[user]
    name = bob walker
    email = bob@randomness.org.uk
    signingkey = 94E63432B71CE3CB
[includeIf "gitdir:~/git/dxw/"]
    path = .gitconfig-dxw
[push]
    default = upstream
[alias]
    st = status
    cv = commit -v
    co = checkout
    cb = checkout -b 
    br = branch
    idiff = diff --cached
    lg = log --pretty=oneline --topo-order --graph --abbrev-commit --decorate
    ru = remote update
    ; ! is both a subcommand, and from the topdir and not the cwd
    ss = !git submodule status
    nm = branch --no-merged
    pn = push -u origin HEAD
    smash = reset --hard origin/master
    autosmash = rebase -i origin/master --autosquash
    govpress-merge = !git checkout -B master origin/master && git pull --ff-only && git merge --no-ff --no-edit origin/develop
    praise = blame
    whose-line-is-it-anyway = blame
    merge-request = mr create -d
    gpr = mr create origin develop
    prg = pull-request
    recommit = commit --amend --no-edit
    save  = !git add . && git commit --no-verify -m \"WIP: auto save at $(date '+%Y%m%d %H:%M:%S')\"
    default-branch = !git checkout $(git default-origin)
    default-origin = !git remote show origin | awk '/HEAD branch/ {print $NF}'
    default-new-branch = "!fn() { git checkout -b $1 $(git default-origin); }; fn" 
    new = "!fn() { git checkout $(git default-origin); git pull; git default-new-branch $1; }; fn"

[color]
    diff = auto
    branch = auto
    status = auto
[include]
    path = .git_email
[diff]
   compactionHeuristic = true

[core]
   excludesFile = /Users/bob/.gitignore

[commit]
   gpgsign = true
   verbose = true
[pull]
	rebase = true
[init]
	defaultBranch = main
[credential]
	helper = /usr/local/share/gcm-core/git-credential-manager-core
[credential "https://dev.azure.com"]
	useHttpPath = true
[fetch]
	prune = true
